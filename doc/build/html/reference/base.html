

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>base/accum_rates &mdash; kmos v0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="kmos v0.0.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">kmos v0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">base/accum_rates</a></li>
<li><a class="reference internal" href="#base-add-proc">base/add_proc</a><ul>
<li><a class="reference internal" href="#arguments">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-allocate-system">base/allocate_system</a><ul>
<li><a class="reference internal" href="#id1">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-assertion-fail">base/assertion_fail</a><ul>
<li><a class="reference internal" href="#id2">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-avail-sites">base/avail_sites</a></li>
<li><a class="reference internal" href="#base-can-do">base/can_do</a><ul>
<li><a class="reference internal" href="#id3">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-deallocate-system">base/deallocate_system</a><ul>
<li><a class="reference internal" href="#id4">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-del-proc">base/del_proc</a><ul>
<li><a class="reference internal" href="#id5">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-determine-procsite">base/determine_procsite</a><ul>
<li><a class="reference internal" href="#id6">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-kmc-step">base/get_kmc_step</a><ul>
<li><a class="reference internal" href="#id7">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-kmc-time">base/get_kmc_time</a><ul>
<li><a class="reference internal" href="#id8">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-kmc-time-step">base/get_kmc_time_step</a><ul>
<li><a class="reference internal" href="#id9">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-kmc-volume">base/get_kmc_volume</a><ul>
<li><a class="reference internal" href="#id10">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-nrofsites">base/get_nrofsites</a><ul>
<li><a class="reference internal" href="#id11">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-procstat">base/get_procstat</a><ul>
<li><a class="reference internal" href="#id12">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-rate">base/get_rate</a><ul>
<li><a class="reference internal" href="#id13">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-species">base/get_species</a><ul>
<li><a class="reference internal" href="#id14">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-system-name">base/get_system_name</a><ul>
<li><a class="reference internal" href="#id15">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-get-walltime">base/get_walltime</a><ul>
<li><a class="reference internal" href="#id16">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-increment-procstat">base/increment_procstat</a><ul>
<li><a class="reference internal" href="#id17">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-interval-search-real">base/interval_search_real</a><ul>
<li><a class="reference internal" href="#id18">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-kmc-step">base/kmc_step</a></li>
<li><a class="reference internal" href="#base-kmc-time">base/kmc_time</a></li>
<li><a class="reference internal" href="#base-kmc-time-step">base/kmc_time_step</a></li>
<li><a class="reference internal" href="#base-lattice">base/lattice</a></li>
<li><a class="reference internal" href="#base-nr-of-proc">base/nr_of_proc</a></li>
<li><a class="reference internal" href="#base-nr-of-sites">base/nr_of_sites</a></li>
<li><a class="reference internal" href="#base-procstat">base/procstat</a></li>
<li><a class="reference internal" href="#base-rates">base/rates</a></li>
<li><a class="reference internal" href="#base-reload-system">base/reload_system</a><ul>
<li><a class="reference internal" href="#id19">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-replace-species">base/replace_species</a><ul>
<li><a class="reference internal" href="#id20">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-reset-site">base/reset_site</a><ul>
<li><a class="reference internal" href="#id21">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-save-system">base/save_system</a><ul>
<li><a class="reference internal" href="#id22">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-set-kmc-time">base/set_kmc_time</a><ul>
<li><a class="reference internal" href="#id23">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-set-rate-const">base/set_rate_const</a><ul>
<li><a class="reference internal" href="#id24">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-start-time">base/start_time</a></li>
<li><a class="reference internal" href="#base-system-name">base/system_name</a></li>
<li><a class="reference internal" href="#base-update-accum-rate">base/update_accum_rate</a><ul>
<li><a class="reference internal" href="#id25">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-update-clocks">base/update_clocks</a><ul>
<li><a class="reference internal" href="#id26">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#base-volume">base/volume</a></li>
<li><a class="reference internal" href="#base-walltime">base/walltime</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/reference/base.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <p>kmos/base</p>
<blockquote>
<p>base is the base kMC module, which implements the kMC method on a
lattice. Virtually any lattice kMC model can be build on top of this.
The methods
offered are:</p>
<ul class="simple">
<li>de/allocation of memory</li>
<li>book-keeping of the lattice configuration and all available processes</li>
<li>updating and tracking kMC time, kMC step and wall time</li>
<li>saving and reloading the current state</li>
<li>determine the process and site to be executed</li>
</ul>
<p>To implement a new system one will have to write 2 modules:
a lattice module that essentially maps the desired lattice onto the
simple cubic
lattice and a process list module that implements
all processes that can take place on this lattice. I suggest to
make use of the kMC_generator.py script which allow to define the
process list in an XML scheme and generates Fortran source code
from it. It is convenient to
define all I/O handling like reading physical parameters in a third
module. To add more convenience one can wrap all files belonging
to one system in a python module via f2py.</p>
</blockquote>
<div class="section" id="base-accum-rates">
<h1>base/accum_rates<a class="headerlink" href="#base-accum-rates" title="Permalink to this headline">¶</a></h1>
<blockquote>
Stores the accumulated rate constant multiplied with the number
of sites available for that process to be used by determine_procsite.
Let
be the rate constants,
the number of available sites, and
the accumulated rates, then
is calculated according to</blockquote>
</div>
<div class="section" id="base-add-proc">
<h1>base/add_proc<a class="headerlink" href="#base-add-proc" title="Permalink to this headline">¶</a></h1>
<blockquote>
The main idea of this subroutine is described in del_proc. Adding one
process to one capability is programmatically simpler since we can just
add it to the end of the respective array in avail_sites.</blockquote>
<div class="section" id="arguments">
<h2>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>proc &#8211; positive integer number that represents the process to be added.</li>
<li>site &#8211; positive integer number that represents the site to be
manipulated</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-allocate-system">
<h1>base/allocate_system<a class="headerlink" href="#base-allocate-system" title="Permalink to this headline">¶</a></h1>
<blockquote>
Allocates all book-keeping structures and stores
local copies of system name and size(s).</blockquote>
<div class="section" id="id1">
<h2>Arguments<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul>
<li><dl class="first docutils">
<dt>systen_name: identifier of this simulation, used for</dt>
<dd><p class="first last">name punch files</p>
</dd>
</dl>
</li>
<li><p class="first">volume: the total number of sites</p>
</li>
<li><p class="first">nr_of_proc the total number of processes</p>
</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-assertion-fail">
<h1>base/assertion_fail<a class="headerlink" href="#base-assertion-fail" title="Permalink to this headline">¶</a></h1>
<blockquote>
Function that shall be used by all parts of the program to print a
proper message in case some assertion fails.</blockquote>
<div class="section" id="id2">
<h2>Arguments<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>a &#8211; condition that is supposed to hold true</li>
<li>r &#8211; message that is printed to the poor user in case it fails</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-avail-sites">
<h1>base/avail_sites<a class="headerlink" href="#base-avail-sites" title="Permalink to this headline">¶</a></h1>
<blockquote>
<p>Main book-keeping array that stores for each process the sites
that are available and for each site the address
in this very array. The meaning of the fields are:</p>
<blockquote>
avail_sites(proc, field, switch)</blockquote>
<p>where:</p>
<ul class="simple">
<li>proc &#8211; refers to a process in the process list</li>
<li>the field within the process, but the meaning differs as explained
under &#8216;switch&#8217;</li>
<li>switch &#8211; can be either 1 or 2 and switches between
(1) the actual numbers of the sites, which are available
and filled in from the left but in whatever order they come
or (2) the location where the site is stored in (1).</li>
</ul>
</blockquote>
</div>
<div class="section" id="base-can-do">
<h1>base/can_do<a class="headerlink" href="#base-can-do" title="Permalink to this headline">¶</a></h1>
<blockquote>
Returns true if &#8216;site&#8217; can do &#8216;proc&#8217; right now</blockquote>
<div class="section" id="id3">
<h2>Arguments<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>proc &#8211; integer representing the requested process.</li>
<li>site &#8211; integer representing the requested site.</li>
<li>can &#8211; writeable boolean, where the result will be stored.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-deallocate-system">
<h1>base/deallocate_system<a class="headerlink" href="#base-deallocate-system" title="Permalink to this headline">¶</a></h1>
<blockquote>
Deallocate all allocatable arrays: avail_sites, lattice, rates,
accum_rates, procstat.</blockquote>
<div class="section" id="id4">
<h2>Arguments<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<blockquote>
none</blockquote>
</div>
</div>
<div class="section" id="base-del-proc">
<h1>base/del_proc<a class="headerlink" href="#base-del-proc" title="Permalink to this headline">¶</a></h1>
<blockquote>
del_proc delete one process from the main book-keeping array
avail_sites. These book-keeping operations happen in O(1) time with the
help of some more book-keeping overhead. avail_sites stores for each
process all sites that are available. The array for each process is
filled from the left, but sites generally not ordered. With this
determine_procsite can effectively pick the next site and process. On
the other hand a second array (avail_sites(:,:,2) ) holds for each
process and each site, the location where it is stored in
avail_site(:,:,1). If a site needs to be removed this subroutine first
looks up the location via avail_sites(:,:,1) and replaces it with the
site that is stored as the last element for this process.</blockquote>
<div class="section" id="id5">
<h2>Arguments<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>proc &#8211; positive integer that states the process</li>
<li>site &#8211; positive integer that encodes the site to be manipulated</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-determine-procsite">
<h1>base/determine_procsite<a class="headerlink" href="#base-determine-procsite" title="Permalink to this headline">¶</a></h1>
<blockquote>
Expects two random numbers between 0 and 1 and determines the
corresponding process and site from accum_rates and avail_sites.
Technically one random number would be sufficient but to circumvent
issues with wrong interval_search_real implementation or rounding
errors I decided to take two random numbers.</blockquote>
<div class="section" id="id6">
<h2>Arguments<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>ran_proc &#8211; Random real number from
that selects the next process</li>
<li>ran_site &#8211; Random real number from
that selects the next site</li>
<li>proc  &#8211; Return integer</li>
<li>site  &#8211; Return integer</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-kmc-step">
<h1>base/get_kmc_step<a class="headerlink" href="#base-get-kmc-step" title="Permalink to this headline">¶</a></h1>
<blockquote>
Return the current kmc_step</blockquote>
<div class="section" id="id7">
<h2>Arguments<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>kmc_step &#8211; Writeable integer</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-kmc-time">
<h1>base/get_kmc_time<a class="headerlink" href="#base-get-kmc-time" title="Permalink to this headline">¶</a></h1>
<blockquote>
Returns current kmc_time as rdouble real as defined in kind_values.f90.</blockquote>
<div class="section" id="id8">
<h2>Arguments<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>return_kmc_time &#8211; writeable real, where the kmc_time will be stored.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-kmc-time-step">
<h1>base/get_kmc_time_step<a class="headerlink" href="#base-get-kmc-time-step" title="Permalink to this headline">¶</a></h1>
<blockquote>
Returns current kmc_time_step (the time increment).</blockquote>
<div class="section" id="id9">
<h2>Arguments<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>return_kmc_step &#8211; writeable real, where the kmc_time_step will be stored.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-kmc-volume">
<h1>base/get_kmc_volume<a class="headerlink" href="#base-get-kmc-volume" title="Permalink to this headline">¶</a></h1>
<blockquote>
Return the total number of sites.</blockquote>
<div class="section" id="id10">
<h2>Arguments<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>volume &#8211; Writeable integer.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-nrofsites">
<h1>base/get_nrofsites<a class="headerlink" href="#base-get-nrofsites" title="Permalink to this headline">¶</a></h1>
<blockquote>
Return how many sites are available for a certain process.
Usually used for debugging</blockquote>
<div class="section" id="id11">
<h2>Arguments<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>proc &#8211; integer  representing the requested process</li>
<li>return_nrofsites &#8211; writeable integer, where nr of sites gets stored</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-procstat">
<h1>base/get_procstat<a class="headerlink" href="#base-get-procstat" title="Permalink to this headline">¶</a></h1>
<blockquote>
Return process counter for process proc as integer.</blockquote>
<div class="section" id="id12">
<h2>Arguments<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>proc &#8211; integer representing the requested process.</li>
<li>return_procstat &#8211; writeable integer, where the process counter will be stored.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-rate">
<h1>base/get_rate<a class="headerlink" href="#base-get-rate" title="Permalink to this headline">¶</a></h1>
<blockquote>
Return rate of given process.</blockquote>
<div class="section" id="id13">
<h2>Arguments<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>proc_nr &#8211; integer representing the requested process.</li>
<li>return_rate &#8211; writeable real, where the requested rate will be stored.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-species">
<h1>base/get_species<a class="headerlink" href="#base-get-species" title="Permalink to this headline">¶</a></h1>
<blockquote>
Return the species that occupies site.</blockquote>
<div class="section" id="id14">
<h2>Arguments<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>site &#8211; integer representing the site</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-get-system-name">
<h1>base/get_system_name<a class="headerlink" href="#base-get-system-name" title="Permalink to this headline">¶</a></h1>
<blockquote>
Returns the systems name, that was specified with base/allocate_system</blockquote>
<div class="section" id="id15">
<h2>Arguments<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<blockquote>
Writeable string of type character(len=200).</blockquote>
</div>
</div>
<div class="section" id="base-get-walltime">
<h1>base/get_walltime<a class="headerlink" href="#base-get-walltime" title="Permalink to this headline">¶</a></h1>
<blockquote>
Return the current walltime.</blockquote>
<div class="section" id="id16">
<h2>Arguments<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>return_walltime &#8211; writeable real where the walltime will be stored.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-increment-procstat">
<h1>base/increment_procstat<a class="headerlink" href="#base-increment-procstat" title="Permalink to this headline">¶</a></h1>
<blockquote>
Increment the process counter for process proc by one.</blockquote>
<div class="section" id="id17">
<h2>Arguments<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>proc &#8211; integer representing the process to be increment.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-interval-search-real">
<h1>base/interval_search_real<a class="headerlink" href="#base-interval-search-real" title="Permalink to this headline">¶</a></h1>
<blockquote>
<p>This is basically a standard binary search algorithm that expects an array
of ascending real numbers and a scalar real and return the key of the
corresponding fiel, with the following modification:</p>
<ul class="simple">
<li>the value of the returned field is equal of larger of the given
value. This is important because the given value is between 0 and the
largest value in the array and otherwise the last field is never
selected.</li>
<li>if two or more values in the array are identical, the function
return the index of the leftmost of those field. This is important
because having field with identical values means that all field except
the leftmost one do not contain any sites. Refer to
update_accum_rate to understand why.</li>
<li>the value of the returned field may no be zero. Therefore the index
the to be equal or larger than the first non-zero field.</li>
</ul>
<p>However: as everyone knows the binary search is trickier than it appears
at first site especially real numbers. So intensive testing is
suggested here!</p>
</blockquote>
<div class="section" id="id18">
<h2>Arguments<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>arr &#8211; real array of type rsingle (kind_values.f90) in monotonically
(not strictly) increasing order</li>
<li>value &#8211; real positive number from [0, max_arr_value]</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-kmc-step">
<h1>base/kmc_step<a class="headerlink" href="#base-kmc-step" title="Permalink to this headline">¶</a></h1>
<blockquote>
Number of kMC steps executed.</blockquote>
</div>
<div class="section" id="base-kmc-time">
<h1>base/kmc_time<a class="headerlink" href="#base-kmc-time" title="Permalink to this headline">¶</a></h1>
<blockquote>
Simulated kMC time in this run in seconds.</blockquote>
</div>
<div class="section" id="base-kmc-time-step">
<h1>base/kmc_time_step<a class="headerlink" href="#base-kmc-time-step" title="Permalink to this headline">¶</a></h1>
<blockquote>
The time increment of the current kMC step.</blockquote>
</div>
<div class="section" id="base-lattice">
<h1>base/lattice<a class="headerlink" href="#base-lattice" title="Permalink to this headline">¶</a></h1>
<blockquote>
<p>Stores the actual physical lattice in a 1d array, where the value
on each slot represents the species on that site.</p>
<p>Species constants can be conveniently defined
in lattice_... and later used directly in the process list.</p>
</blockquote>
</div>
<div class="section" id="base-nr-of-proc">
<h1>base/nr_of_proc<a class="headerlink" href="#base-nr-of-proc" title="Permalink to this headline">¶</a></h1>
<blockquote>
Total number of available processes.</blockquote>
</div>
<div class="section" id="base-nr-of-sites">
<h1>base/nr_of_sites<a class="headerlink" href="#base-nr-of-sites" title="Permalink to this headline">¶</a></h1>
<blockquote>
Stores the number of sites available for each process.</blockquote>
</div>
<div class="section" id="base-procstat">
<h1>base/procstat<a class="headerlink" href="#base-procstat" title="Permalink to this headline">¶</a></h1>
<blockquote>
Stores the total number of times each process has been executed
during one simulation.</blockquote>
</div>
<div class="section" id="base-rates">
<h1>base/rates<a class="headerlink" href="#base-rates" title="Permalink to this headline">¶</a></h1>
<blockquote>
Stores the rate constants for each process in s^-1.</blockquote>
</div>
<div class="section" id="base-reload-system">
<h1>base/reload_system<a class="headerlink" href="#base-reload-system" title="Permalink to this headline">¶</a></h1>
<blockquote>
Restore state of simulation from *.reload file as saved by
save_system(). This function also allocates the system&#8217;s memory
so calling allocate_system again, will cause a runtime failure.</blockquote>
<div class="section" id="id19">
<h2>Arguments<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>system_name &#8211; string of 200 characters which will make the
the reload_system look for a file called
./&lt;system_name&gt;.reload</li>
<li>reloaded &#8211; logical return variable, that is .true. reload of system
could be completed successfully, and .false. otherwise.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-replace-species">
<h1>base/replace_species<a class="headerlink" href="#base-replace-species" title="Permalink to this headline">¶</a></h1>
<blockquote>
Replaces the species at a given site with new_species, given
that old_species is correct, i.e. identical to the site that
is already there.</blockquote>
<div class="section" id="id20">
<h2>Arguments<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>site &#8211; integer representing the site</li>
<li>old_species &#8211; integer representing the species to be removed</li>
<li>new_species &#8211; integer representing the species to be placed</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-reset-site">
<h1>base/reset_site<a class="headerlink" href="#base-reset-site" title="Permalink to this headline">¶</a></h1>
<blockquote>
This function is a higher-level function to reset a site
as if it never existed. To achieve this the species
is set to null_species and all available processes
are stripped from the site via del_proc.</blockquote>
<div class="section" id="id21">
<h2>Arguments<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>site &#8211; integer representing the requested site.</li>
<li>species &#8211; integer representing the species that
ought to be at the site, for consistency checks</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-save-system">
<h1>base/save_system<a class="headerlink" href="#base-save-system" title="Permalink to this headline">¶</a></h1>
<blockquote>
<p>save_system stores the entire system information in a simple ASCII
filed names &lt;system_name&gt;.reload. All fields except avail_sites are
stored in the simple scheme:</p>
<blockquote>
variable value</blockquote>
<p>In the case of array variables, multiple values are seperated by one or
more spaces, and the record is terminated with a newline. The variable
avail_sites is treated slightly differently, since printed on a single
line it is almost impossible to interpret from the ASCII files. Instead
each process starts a new line, and the first number on the line stands
for the process number and the remaining fields, hold the values.</p>
</blockquote>
<div class="section" id="id22">
<h2>Arguments<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h2>
<blockquote>
none</blockquote>
</div>
</div>
<div class="section" id="base-set-kmc-time">
<h1>base/set_kmc_time<a class="headerlink" href="#base-set-kmc-time" title="Permalink to this headline">¶</a></h1>
<blockquote>
Sets current kmc_time as rdouble real as defined in kind_values.f90.</blockquote>
<div class="section" id="id23">
<h2>Arguments<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>new &#8211; readable real, that the kmc time will be set to</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-set-rate-const">
<h1>base/set_rate_const<a class="headerlink" href="#base-set-rate-const" title="Permalink to this headline">¶</a></h1>
<blockquote>
set_rate_const allows to set the rate constant of the process with the number proc_nr.</blockquote>
<div class="section" id="id24">
<h2>Arguments<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>proc_nr &#8211; The process number as defined in the corresponding proclist_
module.</li>
<li>rate &#8211; the rate in
.</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-start-time">
<h1>base/start_time<a class="headerlink" href="#base-start-time" title="Permalink to this headline">¶</a></h1>
<blockquote>
CPU time spent in simulation at least reload.</blockquote>
</div>
<div class="section" id="base-system-name">
<h1>base/system_name<a class="headerlink" href="#base-system-name" title="Permalink to this headline">¶</a></h1>
<blockquote>
Unique indentifier of this simulation to be used for restart files.
This name should not contain any characters that you don&#8217;t want to
have in a filename either, i.e. only [A-Za-z0-9_-].</blockquote>
</div>
<div class="section" id="base-update-accum-rate">
<h1>base/update_accum_rate<a class="headerlink" href="#base-update-accum-rate" title="Permalink to this headline">¶</a></h1>
<blockquote>
Updates the vector of accum_rates.</blockquote>
<div class="section" id="id25">
<h2>Arguments<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<blockquote>
none</blockquote>
</div>
</div>
<div class="section" id="base-update-clocks">
<h1>base/update_clocks<a class="headerlink" href="#base-update-clocks" title="Permalink to this headline">¶</a></h1>
<blockquote>
Updates walltime, kmc_step and kmc_time.</blockquote>
<div class="section" id="id26">
<h2>Arguments<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>ran_time &#8211; Random real number</li>
</ul>
</blockquote>
</div>
</div>
<div class="section" id="base-volume">
<h1>base/volume<a class="headerlink" href="#base-volume" title="Permalink to this headline">¶</a></h1>
<blockquote>
Total number of sites.</blockquote>
</div>
<div class="section" id="base-walltime">
<h1>base/walltime<a class="headerlink" href="#base-walltime" title="Permalink to this headline">¶</a></h1>
<blockquote>
Total CPU time spent on this simulation.</blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">kmos v0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2011, Max J. Hoffmann.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>