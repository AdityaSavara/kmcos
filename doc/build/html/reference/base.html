

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>kmcos/base &mdash; kmcos 0.2.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="kmcos 0.2.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">kmcos 0.2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/kmcos_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">kmcos/base</a><ul>
<li><a class="reference internal" href="#base-accum-rates">base/accum_rates</a></li>
<li><a class="reference internal" href="#base-add-proc">base/add_proc</a></li>
<li><a class="reference internal" href="#base-allocate-system">base/allocate_system</a></li>
<li><a class="reference internal" href="#base-assertion-fail">base/assertion_fail</a></li>
<li><a class="reference internal" href="#base-avail-sites">base/avail_sites</a></li>
<li><a class="reference internal" href="#base-can-do">base/can_do</a></li>
<li><a class="reference internal" href="#base-deallocate-system">base/deallocate_system</a></li>
<li><a class="reference internal" href="#base-del-proc">base/del_proc</a></li>
<li><a class="reference internal" href="#base-determine-procsite">base/determine_procsite</a></li>
<li><a class="reference internal" href="#base-get-accum-rate">base/get_accum_rate</a></li>
<li><a class="reference internal" href="#base-get-avail-site">base/get_avail_site</a></li>
<li><a class="reference internal" href="#base-get-kmc-step">base/get_kmc_step</a></li>
<li><a class="reference internal" href="#base-get-kmc-time">base/get_kmc_time</a></li>
<li><a class="reference internal" href="#base-get-kmc-time-step">base/get_kmc_time_step</a></li>
<li><a class="reference internal" href="#base-get-kmc-volume">base/get_kmc_volume</a></li>
<li><a class="reference internal" href="#base-get-nrofsites">base/get_nrofsites</a></li>
<li><a class="reference internal" href="#base-get-procstat">base/get_procstat</a></li>
<li><a class="reference internal" href="#base-get-rate">base/get_rate</a></li>
<li><a class="reference internal" href="#base-get-species">base/get_species</a></li>
<li><a class="reference internal" href="#base-get-system-name">base/get_system_name</a></li>
<li><a class="reference internal" href="#base-get-walltime">base/get_walltime</a></li>
<li><a class="reference internal" href="#base-increment-procstat">base/increment_procstat</a></li>
<li><a class="reference internal" href="#base-interval-search-real">base/interval_search_real</a></li>
<li><a class="reference internal" href="#base-kmc-step">base/kmc_step</a></li>
<li><a class="reference internal" href="#base-kmc-time">base/kmc_time</a></li>
<li><a class="reference internal" href="#base-kmc-time-step">base/kmc_time_step</a></li>
<li><a class="reference internal" href="#base-lattice">base/lattice</a></li>
<li><a class="reference internal" href="#base-nr-of-proc">base/nr_of_proc</a></li>
<li><a class="reference internal" href="#base-nr-of-sites">base/nr_of_sites</a></li>
<li><a class="reference internal" href="#base-procstat">base/procstat</a></li>
<li><a class="reference internal" href="#base-rates">base/rates</a></li>
<li><a class="reference internal" href="#base-reload-system">base/reload_system</a></li>
<li><a class="reference internal" href="#base-replace-species">base/replace_species</a></li>
<li><a class="reference internal" href="#base-reset-site">base/reset_site</a></li>
<li><a class="reference internal" href="#base-save-system">base/save_system</a></li>
<li><a class="reference internal" href="#base-set-kmc-time">base/set_kmc_time</a></li>
<li><a class="reference internal" href="#base-set-rate-const">base/set_rate_const</a></li>
<li><a class="reference internal" href="#base-set-system-name">base/set_system_name</a></li>
<li><a class="reference internal" href="#base-start-time">base/start_time</a></li>
<li><a class="reference internal" href="#base-system-name">base/system_name</a></li>
<li><a class="reference internal" href="#base-update-accum-rate">base/update_accum_rate</a></li>
<li><a class="reference internal" href="#base-update-clocks">base/update_clocks</a></li>
<li><a class="reference internal" href="#base-volume">base/volume</a></li>
<li><a class="reference internal" href="#base-walltime">base/walltime</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/reference/base.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="kmcos-base">
<h1>kmcos/base<a class="headerlink" href="#kmcos-base" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>The base kMC module, which implements the kMC method on a <img class="math" src="../_images/math/ad2990977902054f4d1da49fba330ce8139e7859.png" alt="d = 1"/>
lattice. Virtually any lattice kMC model can be build on top of this.
The methods offered are:</p>
<ul class="simple">
<li>de/allocation of memory</li>
<li>book-keeping of the lattice configuration and all available processes</li>
<li>updating and tracking kMC time, kMC step and wall time</li>
<li>saving and reloading the current state</li>
<li>determine the process and site to be executed</li>
</ul>
</div></blockquote>
<div class="section" id="base-accum-rates">
<h2>base/accum_rates<a class="headerlink" href="#base-accum-rates" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Stores the accumulated rate constant multiplied with the number
of sites available for that process to be used by determine_procsite.
Let <img class="math" src="../_images/math/99d7255ca41810aba9f5362e728b6f33b554a99a.png" alt="\mathbf{c}"/> be the rate constants <img class="math" src="../_images/math/0cf40500c62874887969d031e32be4bfc7a9c519.png" alt="\mathbf{n}"/>
the number of available sites, and <img class="math" src="../_images/math/ccdc38a57634fa01ff9c2731a2fd899b258aee5a.png" alt="\mathbf{a}"/>
the accumulated rates, then <img class="math" src="../_images/math/2a772bd794fbedb2976268c491686644aefc02e8.png" alt="a_{i}"/>
is calculated according to <img class="math" src="../_images/math/1b8fe9a6c46b65b4c2355dfc5a4d35c3c3405eb5.png" alt="a_{i}=\sum_{j=1}^{i} c_{j} n_{j}"/>.</div></blockquote>
</div>
<div class="section" id="base-add-proc">
<h2>base/add_proc<a class="headerlink" href="#base-add-proc" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The main idea of this subroutine is described in del_proc. Adding one
process to one capability is programmatically simpler since we can just
add it to the end of the respective array in avail_sites.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc</span></tt> positive integer number that represents the process to be added.</li>
<li><tt class="docutils literal"><span class="pre">site</span></tt> positive integer number that represents the site to be manipulated</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-allocate-system">
<h2>base/allocate_system<a class="headerlink" href="#base-allocate-system" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Allocates all book-keeping structures and stores
local copies of system name and size(s):</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">systen_name</span></tt> identifier of this simulation, used as name of punch file</li>
<li><tt class="docutils literal"><span class="pre">volume</span></tt> the total number of sites</li>
<li><tt class="docutils literal"><span class="pre">nr_of_proc</span></tt> the total number of processes</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-assertion-fail">
<h2>base/assertion_fail<a class="headerlink" href="#base-assertion-fail" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Function that shall be used by all parts of the program to print a
proper message in case some assertion fails.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">a</span></tt> condition that is supposed to hold true</li>
<li><tt class="docutils literal"><span class="pre">r</span></tt> message that is printed to the poor user in case it fails</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-avail-sites">
<h2>base/avail_sites<a class="headerlink" href="#base-avail-sites" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Main book-keeping array that stores for each process the sites
that are available and for each site the address
in this very array. The meaning of the fields are:</p>
<blockquote>
<div>avail_sites(proc, field, switch)</div></blockquote>
<p>where:</p>
<ul class="simple">
<li>proc &#8211; refers to a process in the process list</li>
<li>the field within the process, but the meaning differs as explained
under &#8216;switch&#8217;</li>
<li>switch &#8211; can be either 1 or 2 and switches between
(1) the actual numbers of the sites, which are available
and filled in from the left but in whatever order they come
or (2) the location where the site is stored in (1).</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-can-do">
<h2>base/can_do<a class="headerlink" href="#base-can-do" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Returns true if &#8216;site&#8217; can do &#8216;proc&#8217; right now</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc</span></tt> integer representing the requested process.</li>
<li><tt class="docutils literal"><span class="pre">site</span></tt> integer representing the requested site.</li>
<li><tt class="docutils literal"><span class="pre">can</span></tt> writeable boolean, where the result will be stored.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-deallocate-system">
<h2>base/deallocate_system<a class="headerlink" href="#base-deallocate-system" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Deallocate all allocatable arrays: avail_sites, lattice, rates,
accum_rates, procstat.</p>
<p><tt class="docutils literal"><span class="pre">none</span></tt></p>
</div></blockquote>
</div>
<div class="section" id="base-del-proc">
<h2>base/del_proc<a class="headerlink" href="#base-del-proc" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>del_proc delete one process from the main book-keeping array
avail_sites. These book-keeping operations happen in O(1) time with the
help of some more book-keeping overhead. avail_sites stores for each
process all sites that are available. The array for each process is
filled from the left, but sites generally not ordered. With this
determine_procsite can effectively pick the next site and process. On
the other hand a second array (avail_sites(:,:,2) ) holds for each
process and each site, the location where it is stored in
avail_site(:,:,1). If a site needs to be removed this subroutine first
looks up the location via avail_sites(:,:,1) and replaces it with the
site that is stored as the last element for this process.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc</span></tt> positive integer that states the process</li>
<li><tt class="docutils literal"><span class="pre">site</span></tt> positive integer that encodes the site to be manipulated</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-determine-procsite">
<h2>base/determine_procsite<a class="headerlink" href="#base-determine-procsite" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Expects two random numbers between 0 and 1 and determines the
corresponding process and site from accum_rates and avail_sites.
Technically one random number would be sufficient but to circumvent
issues with wrong interval_search_real implementation or rounding
errors I decided to take two random numbers:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ran_proc</span></tt> Random real number from <img class="math" src="../_images/math/ad1f4f4523e3a6994e94149f5cdbf296a9792988.png" alt="\in[0,1]"/> that selects the next process</li>
<li><tt class="docutils literal"><span class="pre">ran_site</span></tt> Random real number from <img class="math" src="../_images/math/ad1f4f4523e3a6994e94149f5cdbf296a9792988.png" alt="\in[0,1]"/> that selects the next site</li>
<li><tt class="docutils literal"><span class="pre">proc</span></tt> Return integer <img class="math" src="../_images/math/7dd31598a28f815ed315ae04c33be13bff425c89.png" alt="\in[1,\mathrm{nr\_of\_proc}"/></li>
<li><tt class="docutils literal"><span class="pre">site</span></tt> Return integer <img class="math" src="../_images/math/b44913112a2ced975e7f9079232454a9b9b7b102.png" alt="\in [1,\mathrm{volume}"/></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-accum-rate">
<h2>base/get_accum_rate<a class="headerlink" href="#base-get-accum-rate" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return accumulated rate at a given process.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc_nr</span></tt> integer representing the requested process.</li>
<li><tt class="docutils literal"><span class="pre">return_accum_rate</span></tt> writeable real, where the requested accumulated rate will be stored.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-avail-site">
<h2>base/get_avail_site<a class="headerlink" href="#base-get-avail-site" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return field from the avail_sites database</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc_nr</span></tt> integer representing the requested process.</li>
<li><tt class="docutils literal"><span class="pre">field</span></tt> integer for the site at question</li>
<li><tt class="docutils literal"><span class="pre">switch</span></tt> 1 or 2 for site or storage location</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-kmc-step">
<h2>base/get_kmc_step<a class="headerlink" href="#base-get-kmc-step" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return the current kmc_step</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">kmc_step</span></tt> Writeable integer</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-kmc-time">
<h2>base/get_kmc_time<a class="headerlink" href="#base-get-kmc-time" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Returns current kmc_time as rdouble real as defined in kind_values.f90.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">return_kmc_time</span></tt> writeable real, where the kmc_time will be stored.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-kmc-time-step">
<h2>base/get_kmc_time_step<a class="headerlink" href="#base-get-kmc-time-step" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Returns current kmc_time_step (the time increment).</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">return_kmc_step</span></tt> writeable real, where the kmc_time_step will be stored.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-kmc-volume">
<h2>base/get_kmc_volume<a class="headerlink" href="#base-get-kmc-volume" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return the total number of sites.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">volume</span></tt> Writeable integer.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-nrofsites">
<h2>base/get_nrofsites<a class="headerlink" href="#base-get-nrofsites" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return how many sites are available for a certain process.
Usually used for debugging</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc</span></tt> integer  representing the requested process</li>
<li><tt class="docutils literal"><span class="pre">return_nrofsites</span></tt> writeable integer, where nr of sites gets stored</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-procstat">
<h2>base/get_procstat<a class="headerlink" href="#base-get-procstat" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return process counter for process proc as integer.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc</span></tt> integer representing the requested process.</li>
<li><tt class="docutils literal"><span class="pre">return_procstat</span></tt> writeable integer, where the process counter will be stored.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-rate">
<h2>base/get_rate<a class="headerlink" href="#base-get-rate" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return rate of given process.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc_nr</span></tt> integer representing the requested process.</li>
<li><tt class="docutils literal"><span class="pre">return_rate</span></tt> writeable real, where the requested rate will be stored.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-species">
<h2>base/get_species<a class="headerlink" href="#base-get-species" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return the species that occupies site.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">site</span></tt> integer representing the site</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-system-name">
<h2>base/get_system_name<a class="headerlink" href="#base-get-system-name" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return the systems name, that was specified with base/allocate_system</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">system_name</span></tt> Writeable string of type character(len=200).</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-get-walltime">
<h2>base/get_walltime<a class="headerlink" href="#base-get-walltime" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Return the current walltime.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">return_walltime</span></tt> writeable real where the walltime will be stored.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-increment-procstat">
<h2>base/increment_procstat<a class="headerlink" href="#base-increment-procstat" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Increment the process counter for process proc by one.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc</span></tt> integer representing the process to be increment.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-interval-search-real">
<h2>base/interval_search_real<a class="headerlink" href="#base-interval-search-real" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>This is basically a standard binary search algorithm that expects an array
of ascending real numbers and a scalar real and return the key of the
corresponding field, with the following modification :</p>
<ul class="simple">
<li>the value of the returned field is equal of larger of the given
value. This is important because the given value is between 0 and the
largest value in the array and otherwise the last field is never
selected.</li>
<li>if two or more values in the array are identical, the function
return the index of the leftmost of those field. This is important
because having field with identical values means that all field except
the leftmost one do not contain any sites. Refer to
update_accum_rate to understand why.</li>
<li>the value of the returned field may no be zero. Therefore the index
the to be equal or larger than the first non-zero field.</li>
</ul>
<p>However: as everyone knows the binary search is trickier than it appears
at first site especially real numbers. So intensive testing is
suggested here!</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">arr</span></tt> real array of type rsingle (kind_values.f90) in monotonically (not strictly) increasing order</li>
<li><tt class="docutils literal"><span class="pre">value</span></tt> real positive number from [0, max_arr_value]</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-kmc-step">
<h2>base/kmc_step<a class="headerlink" href="#base-kmc-step" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Number of kMC steps executed.</div></blockquote>
</div>
<div class="section" id="base-kmc-time">
<h2>base/kmc_time<a class="headerlink" href="#base-kmc-time" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Simulated kMC time in this run in seconds.</div></blockquote>
</div>
<div class="section" id="base-kmc-time-step">
<h2>base/kmc_time_step<a class="headerlink" href="#base-kmc-time-step" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The time increment of the current kMC step.</div></blockquote>
</div>
<div class="section" id="base-lattice">
<h2>base/lattice<a class="headerlink" href="#base-lattice" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Stores the actual physical lattice in a 1d array, where the value
on each slot represents the species on that site.</p>
<p>Species constants can be conveniently defined
in lattice_... and later used directly in the process list.</p>
</div></blockquote>
</div>
<div class="section" id="base-nr-of-proc">
<h2>base/nr_of_proc<a class="headerlink" href="#base-nr-of-proc" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Total number of available processes.</div></blockquote>
</div>
<div class="section" id="base-nr-of-sites">
<h2>base/nr_of_sites<a class="headerlink" href="#base-nr-of-sites" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Stores the number of sites available for each process.</div></blockquote>
</div>
<div class="section" id="base-procstat">
<h2>base/procstat<a class="headerlink" href="#base-procstat" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Stores the total number of times each process has been executed
during one simulation.</div></blockquote>
</div>
<div class="section" id="base-rates">
<h2>base/rates<a class="headerlink" href="#base-rates" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Stores the rate constants for each process in s^-1.</div></blockquote>
</div>
<div class="section" id="base-reload-system">
<h2>base/reload_system<a class="headerlink" href="#base-reload-system" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Restore state of simulation from *.reload file as saved by
save_system(). This function also allocates the system&#8217;s memory
so calling allocate_system again, will cause a runtime failure.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">system_name</span></tt> string of 200 characters which will make the reload_system look for a file called ./&lt;system_name&gt;.reload</li>
<li><tt class="docutils literal"><span class="pre">reloaded</span></tt> logical return variable, that is .true. reload of system could be completed successfully, and .false. otherwise.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-replace-species">
<h2>base/replace_species<a class="headerlink" href="#base-replace-species" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Replaces the species at a given site with new_species, given
that old_species is correct, i.e. identical to the site that
is already there.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">site</span></tt> integer representing the site</li>
<li><tt class="docutils literal"><span class="pre">old_species</span></tt> integer representing the species to be removed</li>
<li><tt class="docutils literal"><span class="pre">new_species</span></tt> integer representing the species to be placed</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-reset-site">
<h2>base/reset_site<a class="headerlink" href="#base-reset-site" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>This function is a higher-level function to reset a site
as if it never existed. To achieve this the species
is set to null_species and all available processes
are stripped from the site via del_proc.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">site</span></tt> integer representing the requested site.</li>
<li><tt class="docutils literal"><span class="pre">species</span></tt> integer representing the species that ought to be at the site, for consistency checks</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-save-system">
<h2>base/save_system<a class="headerlink" href="#base-save-system" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>save_system stores the entire system information in a simple ASCII
filed names &lt;system_name&gt;.reload. All fields except avail_sites are
stored in the simple scheme:</p>
<blockquote>
<div>variable value</div></blockquote>
<p>In the case of array variables, multiple values are seperated by one or
more spaces, and the record is terminated with a newline. The variable
avail_sites is treated slightly differently, since printed on a single
line it is almost impossible to interpret from the ASCII files. Instead
each process starts a new line, and the first number on the line stands
for the process number and the remaining fields, hold the values.</p>
<p><tt class="docutils literal"><span class="pre">none</span></tt></p>
</div></blockquote>
</div>
<div class="section" id="base-set-kmc-time">
<h2>base/set_kmc_time<a class="headerlink" href="#base-set-kmc-time" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Sets current kmc_time as rdouble real as defined in kind_values.f90.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">new</span></tt> readable real, that the kmc time will be set to</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-set-rate-const">
<h2>base/set_rate_const<a class="headerlink" href="#base-set-rate-const" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Allows to set the rate constant of the process with the number proc_nr.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">proc_n</span></tt> The process number as defined in the corresponding proclist_ module.</li>
<li><tt class="docutils literal"><span class="pre">rate</span></tt> the rate in <img class="math" src="../_images/math/9555c802aeda3db5e8b95b5ca081de42cd651cd2.png" alt="s^{-1}"/></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-set-system-name">
<h2>base/set_system_name<a class="headerlink" href="#base-set-system-name" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Set the systems name. Useful in conjunction with base.save_system
to save <a href="#id1"><span class="problematic" id="id2">*</span></a>.reload files under a different name than the default one.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">system_name</span></tt> Readable string of type character(len=200).</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-start-time">
<h2>base/start_time<a class="headerlink" href="#base-start-time" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>CPU time spent in simulation at least reload.</div></blockquote>
</div>
<div class="section" id="base-system-name">
<h2>base/system_name<a class="headerlink" href="#base-system-name" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Unique indentifier of this simulation to be used for restart files.
This name should not contain any characters that you don&#8217;t want to
have in a filename either, i.e. only [A-Za-z0-9_-].</div></blockquote>
</div>
<div class="section" id="base-update-accum-rate">
<h2>base/update_accum_rate<a class="headerlink" href="#base-update-accum-rate" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Updates the vector of accum_rates.</p>
<p><tt class="docutils literal"><span class="pre">none</span></tt></p>
</div></blockquote>
</div>
<div class="section" id="base-update-clocks">
<h2>base/update_clocks<a class="headerlink" href="#base-update-clocks" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Updates walltime, kmc_step and kmc_time.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ran_time</span></tt> Random real number <img class="math" src="../_images/math/5a8fb07940437396dd240303860b93950e70ce3d.png" alt="\in [0,1]"/></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="base-volume">
<h2>base/volume<a class="headerlink" href="#base-volume" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Total number of sites.</div></blockquote>
</div>
<div class="section" id="base-walltime">
<h2>base/walltime<a class="headerlink" href="#base-walltime" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Total CPU time spent on this simulation.</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">kmcos 0.2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2012, Max J. Hoffmann.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>